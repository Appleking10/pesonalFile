<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>隐藏的彩蛋</title>

    <link rel="stylesheet" type="text/css" href="css/demo.css" />
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link rel="stylesheet" type="text/css" href="css/custom.css" />
    <!-- <link rel="stylesheet" href="css/fency-checkbox.css"> -->
    <link rel="stylesheet" href="../icomoon/style.css">
    <link rel="stylesheet" href="../css/coolmenu.css">
    <script type="text/javascript" src="js/modernizr.custom.79639.js"></script>
    <noscript>
        <link rel="stylesheet" type="text/css" href="css/styleNoJS.css" />
    </noscript>
</head>

<body>
    <div class="container demo-1">
        <span class="icon-home" id="home"></span>

        <div id="slider" class="sl-slider-wrapper">

            <div class="sl-slider">
                <div class="sl-slide bg-2 index" data-orientation="vertical" data-slice1-rotation="10"
                    data-slice2-rotation="-15" data-slice1-scale="1.5" data-slice2-scale="1.5">
                    <div class="sl-slide-inner">
                        <div class="deco" data-icon="q"></div>
                        <h2>hello，假设你现在是庞颖的宠物猫，咪咪，而且是只会说话的猫猫。<br>接下来你将陪庞老师走过漫长的岁月，陪她做出一系列重要的决定，你做好准备了吗？</h2>
                        <div class="option-wrap">
                            <div class="option index-op">接受挑战！</div>
                            <div class="option index-op">不接受也得接受！</div>

                        </div>
                    </div>
                </div>
                <div class="sl-slide bg-1" data-orientation="vertical" data-slice1-rotation="10"
                    data-slice2-rotation="-15" data-slice1-scale="1.5" data-slice2-scale="1.5">
                    <div class="sl-slide-inner">
                        <div class="deco" data-icon="t"></div>
                        <h2>初三毕业之际，阿庞抱着我，问我要不要去新加坡留学，她很纠结。这时，我说：</h2>
                        <div class="option-wrap">
                            <div class="option goSG">去吧！外面的世界更大</div>
                            <div class="option stayHome">不要去吧，我觉得你先好好读书，以后也有很多机会去到国外的。</div>
                            <!-- <div class="prev">back to previous</div> -->

                        </div>
                    </div>
                </div>
                <!-- <div class="sl-slide bg-4" data-orientation="horizontal" data-slice1-rotation="-25"
                    data-slice2-rotation="-25" data-slice1-scale="2" data-slice2-scale="2">
                    <div class="sl-slide-inner">
                        <div class="deco" data-icon="H"></div>
                        <h2>初三毕业之际，阿庞抱着我，问我要不要去新加坡留学</h2>
                        <blockquote>
                            <p>You have just dined, and however scrupulously the slaughterhouse is concealed in the
                                graceful distance of miles, there is complicity.</p><cite>Ralph Waldo Emerson</cite>
                        </blockquote>
                        <div class="option-wrap ">
                            <div class="option goSG checkboxWrapper smallCheckboxSize theme7">
                                <input type="checkbox" id="sample1">
                                <label for="sample1">
                                    <i>
                                        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                                            xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="50px"
                                            height="50px" viewBox="0 0 50 50" enable-background="new 0 0 50 50"
                                            xml:space="preserve">
                                            <circle fill="none" stroke="#fff" stroke-width="3" stroke-miterlimit="10"
                                                cx="25.11" cy="24.883" r="23.519" />
                                            <path fill="none" stroke-width="3" stroke-miterlimit="10"
                                                d="M48.659,25c0,12.998-10.537,23.534-23.534,23.534
                                            S1.591,37.998,1.591,25S12.127,1.466,25.125,1.466c9.291,0,17.325,5.384,21.151,13.203L19,36l-9-14" />
                                        </svg>
                                    </i>
                                    
                                </label>
                            </div>

                            <div class="option stayhome checkboxWrapper smallCheckboxSize theme6">
                                <input type="checkbox" id="sample1">
                                <label for="sample1">
                                    <i>
                                        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                                            xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="50px"
                                            height="50px" viewBox="0 0 50 50" enable-background="new 0 0 50 50"
                                            xml:space="preserve">
                                            <circle fill="none" stroke="#fff" stroke-width="3" stroke-miterlimit="10"
                                                cx="25.11" cy="24.883" r="23.519" />
                                            <path fill="none" stroke-width="3" stroke-miterlimit="10"
                                                d="M48.659,25c0,12.998-10.537,23.534-23.534,23.534
                                            S1.591,37.998,1.591,25S12.127,1.466,25.125,1.466c9.291,0,17.325,5.384,21.151,13.203L19,36l-9-14" />
                                        </svg>
                                    </i>
                                    选项2
                                </label>
                            </div>
                        </div>
                    </div>
                </div> -->

                <!-- <div class="sl-slide bg-2" data-orientation="horizontal" data-slice1-rotation="-5"
                    data-slice2-rotation="10" data-slice1-scale="2" data-slice2-scale="1" id="result">
                    <div class="sl-slide-inner">
                        <div class="deco" data-icon="t"></div>
                        <h2>游戏结束</h2>
                        <div class="option-wrap">
                            <div class="result">结果：xxxx</div>
                           
                        </div>
                    </div>
                </div> -->
            </div><!-- /sl-slider -->


        </div><!-- /slider-wrapper -->
        <div class="mobile-canvas" id="mobile-canvas">
            <div class="button-container">
                <div class="button-wrapper">
                    <div class="button">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <div class="button-child-wrapper">
                        <div class="button-child icon-pictures" id="gotophoto">
                        </div>
                        <div class="button-child icon-checkered-flag" id="gotoGame">
                        </div>
                        <div class="button-child icon-lab" id="gotoEgg">

                        </div>
                    </div>
                </div>
            </div>
            <div class="overlay"></div>
        </div>
    </div>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/jquery.ba-cond.min.js"></script>
    <script type="text/javascript" src="js/jquery.slitslider.js"></script>
    <script type="text/javascript">
        $(function () {
            var optionRecord = [],
                optionList = {
                    stayHome: "留在廊坊读高中 -->",
                    goSG: "去新加坡读高中 -->",
                    study: "安心学习，两耳不闻天下事 -->",
                    goDebate: "加入辩论社 -->",
                    goDrama: "廊坊“赵丽蓉”崭露头角 -->"
                },
                currentPage;
            var Page = (function () {

                // var $navArrows = $('#nav-arrows'),
                // $nav = $('#nav-dots > span'),
                function addItem(bg, icon, question, options) {
                    let optionHtml = '';
                    options.forEach(item => {
                        optionHtml += `<div class="option ${item.class}">${item.content}</div>`
                    })
                    let itemHtml = `<div class="sl-slide ${bg}" data-orientation="vertical" data-slice1-rotation="10" data-slice2-rotation="-15" data-slice1-scale="1.5" data-slice2-scale="1.5">
                    <div class="sl-slide-inner">
                        <div class="deco" data-icon="${icon}"></div>
                        <h2>${question}</h2>
                        <div class="option-wrap">
                            ${optionHtml}
                        </div>
                    </div>
                </div>`
                    let $items = $(itemHtml);
                    slitslider.add($items)
                }
                var $prev = $('.prev'),
                    slitslider = $('#slider').slitslider({
                        onBeforeChange: function (slide, pos) {

                            // $nav.removeClass('nav-dot-current');
                            // $nav.eq(pos).addClass('nav-dot-current');

                        }
                    }),

                    init = function () {

                        initEvents();
                        var buttonContainer = document.querySelector('.button-container');
                        var overlay = document.querySelector('.overlay');
                        var mobileCanvas = document.querySelector('.mobile-canvas')
                        document.getElementById("mobile-canvas").style.display = "block"
                        document.getElementById("mobile-canvas").style.zIndex = 10
                        buttonContainer.addEventListener('click', function () {
                            buttonContainer.classList.toggle('open');
                            mobileCanvas.classList.toggle('open');
                            // mobileCanvas.classList.toggle("open");

                        }, false);
                        document.getElementById("gotophoto").addEventListener('click', function () {
                            window.location.href = "../three/photoWall/index.html"
                        })
                        document.getElementById("gotoEgg").addEventListener('click', function () {
                            window.location.href = '#'
                        })
                        document.getElementById("gotoGame").addEventListener('click', function () {
                            window.location.href = '../game/index.html'

                        })
                        document.getElementById("home").addEventListener('click', function () {
                            window.location.href = '../index.html'
                        })
                    },
                    initEvents = function () {

                        // add navigation events
                        // $navArrows.children(':last').on('click', function () {

                        //     optionRecord = slitslider.next();
                        //     console.log("current:" + optionRecord)
                        //     return false;

                        // });
                        $('.index-op').on('click', function () {
                            currentPage = slitslider.next();
                            // console.log(currentPage)
                        })

                        $prev.on('click', function () {
                            let that = this
                            setTimeout(function () {
                                currentPage = slitslider.previous();
                                optionRecord[currentPage] = {
                                    option: that.innerText
                                }

                                console.log("current:", optionRecord)
                                // console.log(this.innerText)
                                return false;
                            }, 500)

                        })
                        $('.stayHome').on('click', function () {
                            optionRecord.push('stayHome')
                            addItem('bg-3', 'o',
                                "阿庞最后如愿考上廊坊市第一中学，学校的辩论队招生，阿庞抱着我苦恼的说我喜欢表达也擅长表演，到底要选择哪个社团。我说:",
                                [{
                                    class: "goDebate",
                                    content: "参加辩论队"
                                }, {
                                    class: "goDrama",
                                    content: "参加戏剧社"
                                }, {
                                    class: "study",
                                    content: "安心学习"
                                }])
                            currentPage = slitslider.next()
                        })
                        $(document).on("click", ".goDebate", function () {
                            optionRecord.push('goDebate');
                            addItem('bg-2', 'm',
                                "阿庞如愿的加入了学校的辩论队，并且在辩论赛上发挥出色。高中毕业后阿庞考上了清华，加入了清华辩论队。大学毕业之际，考研还是工作，这是一个问题。我说：",
                                [{
                                    class: "goNETEM",
                                    content: "准备考研"
                                }, {
                                    class: "work",
                                    content: "准备找工作"
                                }])
                            currentPage = slitslider.next()

                        })
                        $(document).on("click", ".goDrama", function () {
                            optionRecord.push('goDrama');
                            addItem('bg-4', 'a',
                                "廊坊“赵丽蓉”出道，高考成绩出来后，我在床上看着阿庞对着电脑苦恼，纠结选择哪个专业，导演系和表演系，我说：",
                                [{
                                    class: "directing",
                                    content: "导演系"
                                }, {
                                    class: "goAct",
                                    content: "表演系"
                                }])
                            currentPage = slitslider.next()

                        })
                        //动态添加元素绑定监听事件
                        $(document).on("click", ".study", function () {
                            optionRecord.push('study');
                            let optionContent = "经过我的选择，阿庞选择："
                            optionRecord.forEach(item => {
                                optionContent += optionList[item]
                            })
                            optionContent += "阿庞幸福快乐过一生"
                            addItem('bg-4 index', 'g', optionContent, [{
                                class: "end",
                                content: "游戏结束，重新开始！"
                            }])
                            currentPage = slitslider.next()
                        });
                        $(document).on('click', '.end', function () {
                            history.go(0)
                        })
                        $('.goSG').on('click', function () {
                            optionRecord.push('goSG')

                            addItem('bg-4', 'h',
                                "进入华侨中学，高考过后，面对多所世界名校的offer，阿庞抱着我发愁，到底要去哪个大学。我说：", [{
                                    class: "goNUS",
                                    content: "去新加坡国立大学"
                                }, {
                                    class: "goCambridge",
                                    content: "去剑桥大学"
                                }])
                            currentPage = slitslider.next()
                        })


                        // $navArrows.children(':first').on('click', function () {

                        //     slitslider.previous();
                        //     return false;

                        // });

                        // $nav.each(function (i) {

                        //     $(this).on('click', function (event) {

                        //         var $dot = $(this);

                        //         if (!slitslider.isActive()) {

                        //             $nav.removeClass('nav-dot-current');
                        //             $dot.addClass('nav-dot-current');

                        //         }

                        //         slitslider.jump(i + 1);
                        //         return false;

                        //     });

                        // });

                    };

                return {
                    init: init
                };

            })();

            Page.init();

            /**
             * Notes: 
             * 
             * example how to add items:
             */

            /*
            
            var $items  = $('<div class="sl-slide sl-slide-color-2" data-orientation="horizontal" data-slice1-rotation="-5" data-slice2-rotation="10" data-slice1-scale="2" data-slice2-scale="1"><div class="sl-slide-inner bg-1"><div class="sl-deco" data-icon="t"></div><h2>some text</h2><blockquote><p>bla bla</p><cite>Margi Clarke</cite></blockquote></div></div>');
            
            // call the plugin's add method
            ss.add($items);

            */

        });
    </script>
</body>

</html>